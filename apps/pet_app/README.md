# Pet App V3

Pet App V3 是一个基于Flutter的跨平台宠物应用，采用企业级插件化架构设计，实现了完整的应用运行时和模块集成系统。

## ✨ 特性

- 🔌 **插件化架构** - 完整的插件系统，支持动态加载和热插拔
- 🎨 **创意工坊** - 强大的创意工具和游戏插件生态
- 🚀 **应用运行时** - 企业级生命周期管理和模块通信
- 🧭 **智能导航** - 深度链接、历史记录、快捷键和手势支持
- ♿ **无障碍友好** - 完整的无障碍功能和个性化设置
- 📱 **跨平台支持** - Android、iOS、Web、Windows、macOS、Linux

## 🚀 开发状态

**当前版本**: v3.3.0 - Phase 3 完成

### Phase 1: 插件系统核心架构 ✅
- ✅ 插件接口规范实现
- ✅ 插件注册中心
- ✅ 插件加载器
- ✅ 插件通信机制
- ✅ 测试插件开发
- ✅ 单元测试和集成测试

### Phase 2: 创意工坊核心功能 ✅
- ✅ 创意工坊核心架构设计
- ✅ 工具插件系统实现
- ✅ 游戏插件系统实现
- ✅ 创意项目管理系统
- ✅ 用户界面组件开发
- ✅ 测试和文档完善

### Phase 3: 应用运行时和模块集成 ✅
- ✅ **Phase 3.1**: 应用生命周期管理
- ✅ **Phase 3.2**: 模块间通信协调
- ✅ **Phase 3.3**: 基础UI集成和导航系统

## 📊 质量指标

- **测试覆盖**: 316个测试，316个通过 (100.0%通过率)
- **代码质量**: 0错误0警告，企业级代码标准
- **架构**: 分层模块化 + 插件系统
- **性能**: 启动时间 < 2秒，内存使用 < 60MB

## 🛠️ 快速开始

### 环境要求
- **Flutter**: 3.16.0+
- **Dart**: 3.2.0+
- **IDE**: VS Code 或 Android Studio

### 安装和运行
```bash
# 克隆项目
git clone <repository-url>
cd pet_app_v3/apps/pet_app

# 安装依赖
flutter pub get

# 运行代码生成
flutter packages pub run build_runner build

# 运行应用
flutter run
```

### 测试
```bash
# 运行纯Dart测试 (推荐)
dart test test/core/ test/widget_test.dart test/phase_3_validation_test.dart

# 运行UI导航测试
dart test test/ui/

# 运行所有测试
flutter test

# 静态分析
dart analyze
```

## 🏗️ 架构概览

Pet App V3 采用企业级分层模块化架构：

```
┌─────────────────────────────────────────────────────────────┐
│                    Pet App V3 应用层                        │
├─────────────────────────────────────────────────────────────┤
│  Phase 3.3: 基础UI集成                                      │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐ │
│  │  主界面框架      │ │    导航系统      │ │  快捷键&手势    │ │
│  │ MainAppFramework│ │ NavigationManager│ │ ShortcutManager │ │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘ │
├─────────────────────────────────────────────────────────────┤
│  Phase 3.2: 模块间通信协调                                   │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐ │
│  │  统一消息总线    │ │   事件路由      │ │   数据同步      │ │
│  │UnifiedMessageBus│ │ EventRouting    │ │ DataSyncManager │ │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘ │
├─────────────────────────────────────────────────────────────┤
│  Phase 3.1: 应用生命周期管理                                │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐ │
│  │  生命周期管理    │ │   状态管理      │ │   模块加载      │ │
│  │AppLifecycleManager│ │ StateManager   │ │ ModuleLoader    │ │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘ │
├─────────────────────────────────────────────────────────────┤
│  Phase 1-2: 插件系统 & 创意工坊                             │
│  ┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐ │
│  │   插件系统      │ │   创意工坊      │ │   工具&游戏     │ │
│  │ PluginSystem    │ │CreativeWorkshop │ │   插件生态      │ │
│  └─────────────────┘ └─────────────────┘ └─────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

## 🎯 核心功能

### 导航系统
- **深度链接**: 支持自定义URL方案和安全验证
- **历史记录**: 智能导航栈和书签系统
- **快捷键**: 17种快捷键组合，支持冲突检测
- **手势操作**: 多种触摸手势和边缘滑动
- **无障碍**: 8种无障碍功能，完整的个性化设置

### 通信系统
- **统一消息总线**: 高性能的发布/订阅和请求/响应模式
- **事件路由**: 智能的跨模块事件传递和优先级处理
- **数据同步**: 多种同步策略和冲突解决机制
- **性能监控**: 完整的通信性能统计和调优

### 生命周期管理
- **应用状态**: 完整的启动、暂停、恢复、停止流程
- **状态持久化**: 类型安全的状态存储和恢复
- **模块加载**: 智能的依赖解析和加载顺序管理
- **错误恢复**: 多级错误处理和自动恢复机制

## 📖 文档

- [API文档](docs/api/plugin_api.md) - 完整的API接口说明
- [架构文档](docs/architecture/system_architecture.md) - 系统架构设计
- [用户指南](docs/user/user_guide.md) - 用户使用指南
- [开发者指南](docs/developer/development_guide.md) - 开发者文档
- [测试报告](docs/testing/test_report.md) - 详细测试报告
- [部署指南](docs/deployment/deployment_guide.md) - 部署和发布指南

## 🤝 贡献指南

1. Fork 项目
2. 创建特性分支 (`git checkout -b feature/AmazingFeature`)
3. 遵循代码规范和测试要求
4. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
5. 推送到分支 (`git push origin feature/AmazingFeature`)
6. 打开 Pull Request

### 开发规范
- 代码覆盖率 > 90%
- 静态分析无错误无警告
- 遵循Dart/Flutter最佳实践
- 完整的文档和注释

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 🙏 致谢

感谢所有为Pet App V3项目做出贡献的开发者和用户！
